<!-- TITLE: farm -->
<!-- SUBTITLE: описание плагина `farm` -->

# Плагин качалок на мобов

## Возможности:
- позволяет создавать не нагружающие сервер качалки на мобах без использования спавнеров.
- позволяет устанавливать индивидуальные и/или групповые настройки:
  - список разрешенных мобов для установки ферм
  - количество разрешенных к установке ферм
  - собственное врема респавна для каждого разрешенного моба
- позволяет задавать количество HP (от 1 до 20) при установке фермы
 
## Команды
 - `/farm help` : эта справка
 - `/farm list` : список установленных вами ферм
 - `/farm set {farmname} {mob} [hp]`: установить ферму с именем ***{farmname}*** спавнящую мобов ***{mob}*** с количеством жизней ***[hp]***. точка спавна будет в точке где вы стоите
 - `/farm remove {farmname}` : удалить ферму с именем ***{farmname}***

## Установка мобофермы
- встать на точку, в которой должен происходить спавн мобов.
- ввести команду `/farm set {farmname} {mob} [hp]`
- оформить точку спавна так, чтобы была возможность бить мобов, но мобы не могли выбратся наружу.
- поставить табличку включающую/выключающую мобоферму.

 ## Установка таблички включения/выключения мобоферм
 - поставить табличку с надписями:
 - 1 строка - `farm`
 - 2 строка - `{farmname}`
 - 3-4 строки - пустые, будут заполнены автоматически
 
## Использование табличек включения/выключения мобоферм
- ПКМ - последовательно включает/выключает соответствующую табличке мобоферму
 
## Файл конфигурации data/config/plugins/last/adminshop.json
```js
{
  "locale": "ru_ru",   // Язык по умолчанию `ru_ru`
  "enable": true       // Включить/выключить плагин `true`/`false`
}
```

## Настройки разрешений для плагина `adminshop` 

**Права доступа:** *могут быть выставленны персонально для разных групп и отдельных пользователей*
```js
...
"permissions": {
    "last_farm.set":     true,    // разрешение на установку мобоферм
    "last_farm.use":     true     // разрешение на включение/выключение установленной мобофермы по ПКМ на табличке управления.
}
...
```

**Параметры:** *могут быть выставленны персонально для разных групп и отдельных пользователей*
```js
...
"options": {
    "last_farm.max":     1,    // максимальное количество ферм доступных для установки
    "last_farm.mobs":    {     // список допустимых мобов для мобоферм
				"COW":1000,              //  где: ключ это тип моба, значение это время респавна
				"RABBIT":100,
				"PIG":100,
				"BLAZE":500,
				"WITCH":256,
				"CREEPER":256,
				"SKELETON":340,
				"ZOMBIE":256,
				"PIG_ZOMBIE":340,
				"ENDERMAN":200,
				"CAVE_SPIDER":190,
				"GUARDIAN":200,
				"IRON_GOLEM":1500,
				"SQUID":200,
				"WITHER_SKELETON":15000 
		}
}
...
```

## Файлы локализации (поддерживаются модулем [modules/last/localses](/modules/locales) )

Файлы локализации плагина находятся в папке `scriptcraft/data/locales/plugins/last/last_farm`. Вы можете создавать свои собственные файлы с локализациями под разные языки, и менять локализованные сообщения в уже существующих файлах.

Пример файла локализации для русского языка `scriptcraft/data/locales/plugins/last/last_farm/ru_ru.json`
```json
{
    "msg": {
        "on_of_perm_deny": "Вы не можете включать или выключать ферму.",
        "farm_on": "Вы включили ферму.",
        "farm_off": "Вы выключили ферму.",
        "farm_freq_error": "Вы не можете так часто включать эту ферму.",
        "cmd_use_deny": "У вас нет разрешения использовать эту команду.",
        "you_farms": "Ваши фермы:",
        "mob_type_deny": "Указан недопустимый тип мобов [${mobtype}].",
        "mob_list": "Допустимые типы мобов смотри командой /farm mobs .",
        "farm_max_error": "${playername} вы уже поставили максимально допустимое для вас количество ферм. Вам доступно всего ${max} ферм для установки.",
        "farm_name_error": "У вас уже есть ферма с таким названием [${farmname}]. выбеhите какое нибудь другое название.",
        "farm_set_success": "Ферма для [${farmtype}] успешно установленна.",
        "farm_name_undefined": "Не указано имя фермы.",
        "farm_is_epsent": "У вас нет фермы с таким названием [${farmname}].",
        "farm_list": "Чтобы увидеть ваши фермы смотри /farm list .",
        "farm_remove_success": "Ферма [${farmname}] успешно удалена."
    },
    "sign": {
        "set_deny": [
            "у вас нет",
            "разрешения ставить",
            "таблички управления",
            "фермой"
        ],
        "farm_name_epsent": [
            " ",
            "у вас нет фермы",
            "с таким названием",
            " "
        ],
    },
    "help": [
        "/farm help : эта справка.\n",
        "/farm list : список установленных вами ферм.\n",
        "/farm set {name} {mob} [hp]: установить ферму с именем {name} спавнящую мобов {mob} с количеством жизней [hp]. точка спавна будет в точке где вы стоите.\n",
        "/farm remove {name} : удалить ферму с именем {name}.\n"
    ]
}

```

## Важно:

 
## Зависимости:
 > - utils - стандартный модуль ScriptCraft
 > - entities - стандартный модуль ScriptCraft
 > - [modules/last/signs](/modules/signs)       - модуль событий связанных с табличками
 > - [modules/last/economy](/modules/economy)     - модуль экономики
 > - [modules/last/eventex](/modules/eventex)     - экземпляр класса EventEmmiter созданный для межмодульного взаимодействия через вызовы событий
 > - [modules/last/completer](/modules/completer)   - модуль регистрации команд /jsp commandname как глобальных команд /commandname с возможностью автодополнения
 > - [modules/last/users](/modules/users)       - модуль для централизованного хранения данных пользователя с кэшированием для более быстрого доступа
 > - [modules/last/locales](/modules/locales)     - модуль локализации
 > - [modules/last/inventory](/modules/last/inventory)   - модуль работы с инвентарем и материалами
